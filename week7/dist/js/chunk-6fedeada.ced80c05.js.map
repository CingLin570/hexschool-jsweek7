{"version":3,"sources":["webpack:///./src/views/Login.vue?e3fc","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue?7b2b","webpack:///./src/views/Login.vue?76f5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","scopedSlots","_u","key","fn","ref","invalid","staticStyle","preventDefault","signin","_v","errors","classes","directives","name","rawName","value","user","expression","class","domProps","target","composing","$set","_s","slice","length","_e","staticRenderFns","data","email","password","token","methods","$http","post","url","component"],"mappings":"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","file":"js/chunk-6fedeada.ced80c05.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"home d-flex align-items-center\"},[_c('div',{staticClass:\"container-fluid\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{staticClass:\"p-5 rounded formSignin\",staticStyle:{\"width\":\"500px\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.signin($event)}}},[_c('h2',[_vm._v(\"登入頁面\")]),_c('div',{staticClass:\"form-group text-left\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"電子信箱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"email\",\"id\":\"email\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"請輸入電子信箱\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),(errors[0])?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s((\"帳號\" + (errors[0].slice(6, errors[0].length)))))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group text-left\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"exampleInputPassword1\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"請輸入密碼\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),(errors[0])?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s((\"密碼\" + (errors[0].slice(9, errors[0].length)))))]):_vm._e()]}}],null,true)})],1),_c('button',{staticClass:\"btn btn-dark\",attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\"登入\")])])]}}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"home d-flex align-items-center\">\r\n    <div class=\"container-fluid\">\r\n      <loading :active.sync=\"isLoading\"></loading>\r\n      <div class=\"d-flex justify-content-center\">\r\n        <validation-observer v-slot=\"{ invalid }\">\r\n          <form style=\"width:500px\" @submit.prevent=\"signin\" class=\"p-5 rounded formSignin\">\r\n            <h2>登入頁面</h2>\r\n            <div class=\"form-group text-left\">\r\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\r\n                <label for=\"exampleInputEmail1\">電子信箱</label>\r\n                <input\r\n                  type=\"email\"\r\n                  class=\"form-control\"\r\n                  v-model=\"user.email\"\r\n                  :class=\"classes\"\r\n                  id=\"email\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"請輸入電子信箱\"\r\n                />\r\n                <span\r\n                  v-if=\"errors[0]\"\r\n                  class=\"text-danger\"\r\n                >{{ `帳號${errors[0].slice(6, errors[0].length)}` }}</span>\r\n              </validation-provider>\r\n            </div>\r\n            <div class=\"form-group text-left\">\r\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\r\n                <label for=\"exampleInputPassword1\">密碼</label>\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  v-model=\"user.password\"\r\n                  :class=\"classes\"\r\n                  id=\"password\"\r\n                  placeholder=\"請輸入密碼\"\r\n                />\r\n                <span\r\n                  v-if=\"errors[0]\"\r\n                  class=\"text-danger\"\r\n                >{{ `密碼${errors[0].slice(9, errors[0].length)}` }}</span>\r\n              </validation-provider>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-dark\" :disabled=\"invalid\">登入</button>\r\n          </form>\r\n        </validation-observer>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'login',\r\n  data () {\r\n    return {\r\n      user: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      token: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    signin () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/auth/login`\r\n      this.$http.post(url, this.user)\r\n        .then((response) => {\r\n          console.log(response)\r\n          this.isLoading = false\r\n          const expired = response.data.expired\r\n          const token = response.data.token\r\n          this.$bus.$emit('message:push',\r\n            '登入成功',\r\n            'success')\r\n          document.cookie = `hextoken=${token};expires=${new Date(expired * 1000)};`\r\n          this.$router.push('/admin/products')\r\n        }).catch((error) => {\r\n          this.$bus.$emit('message:push',\r\n            `登入失敗惹，好糗Σ( ° △ °|||)︴\r\n            ${error}`,\r\n            'danger')\r\n          this.isLoading = false\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.home {\r\n  background: url( \"https://images.unsplash.com/photo-1571902943202-507ec2618e8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=968&q=80\" );\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  height: 100vh;\r\n}\r\n.formSignin {\r\n  background-color: rgba(255, 253, 253, 0.9);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7c08c006&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}